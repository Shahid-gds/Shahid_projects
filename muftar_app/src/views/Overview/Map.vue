
<template>
    <div class="flex ">
        <MapboxMap height="100vh" :center="center" :zoom="3" :accessToken="accessToken" :mapStyle="mapStyle">
            <MapboxMarker v-for="(driver, idx) in drivers_board" :key="idx"
                :lngLat="[typeof (driver?.currentLocation?.longitude) === 'number' ? driver?.currentLocation?.longitude : 0, 
                typeof (driver?.currentLocation?.latitude) === 'number' ? driver?.currentLocation?.latitude : 0]">
                <template #icon>
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40">
                        <g id="t1" transform="translate(0 -0.351)">
                          <ellipse id="Ellipse_2" data-name="Ellipse 2" cx="20" cy="19.5" rx="20" ry="19.5" transform="translate(0 1.351)" fill="#45dcf3"/>
                          <circle id="Ellipse_1" data-name="Ellipse 1" cx="19.5" cy="19.5" r="19.5" transform="translate(1 0.351)" fill="#3c5aa8"/>
                          <g id="Truck" transform="translate(11.651 7.074)">
                            <path id="Path_11049" data-name="Path 11049" d="M859.664,213.97h.259a.551.551,0,0,1,.21.505c-.006,1.149,0,2.3,0,3.446v.222a1.806,1.806,0,0,0,.207-.427,2.3,2.3,0,0,1,2.28-1.607q2.821-.015,5.643,0a2.3,2.3,0,0,1,2.279,1.611c.054.144.111.288.166.432l.044-.006v-.224c0-1.149,0-2.3,0-3.446a.551.551,0,0,1,.21-.505h.259c.24.166.471.346.722.493a.613.613,0,0,1,.321.6q-.011,5.968-.005,11.936v.273a1.376,1.376,0,0,0,.161.009,1.383,1.383,0,0,1,1.52,1.536c-.031.976-.007,1.953-.007,2.93v.258c.163,0,.3,0,.446,0,.339.006.447.114.448.459,0,.51,0,1.02,0,1.53,0,.4-.094.5-.492.5h-1.266c0,.281,0,.538,0,.794a.678.678,0,0,1-.747.748c-.51,0-1.02,0-1.53,0-.557,0-.8-.245-.807-.8,0-.242,0-.483,0-.727H860.9c0,.276,0,.534,0,.792a.674.674,0,0,1-.741.732q-.8,0-1.594,0a.678.678,0,0,1-.747-.748c0-.256,0-.513,0-.794-.466,0-.909,0-1.353,0-.276,0-.4-.116-.4-.39q-.01-.851,0-1.7c0-.273.125-.385.4-.395.156-.006.312,0,.49,0v-.256c0-1.027-.005-2.054,0-3.081a1.323,1.323,0,0,1,1.383-1.385c.09,0,.181,0,.29,0v-.3q0-5.979,0-11.958a.557.557,0,0,1,.284-.533C859.167,214.327,859.412,214.144,859.664,213.97Zm10.631,9.418v-3.238h-9.711v3.238Zm-4.864,7.873c.717,0,1.435,0,2.153,0a.674.674,0,0,0,.768-.766q0-1.992,0-3.983a.683.683,0,0,0-.773-.767q-2.142,0-4.284,0a.678.678,0,0,0-.767.751q-.007,2.013,0,4.026a.665.665,0,0,0,.751.739C864,231.262,864.713,231.26,865.431,231.26Zm5.677-1.44c-.2,0-.4-.01-.6,0a.627.627,0,0,0-.015,1.25c.408.018.817.017,1.224,0a.627.627,0,0,0-.006-1.25C871.509,229.81,871.308,229.82,871.108,229.82Zm-11.339,1.259c.186,0,.372,0,.559,0a.62.62,0,0,0,.633-.621.607.607,0,0,0-.613-.636c-.379-.012-.759-.012-1.139,0a.61.61,0,0,0-.623.628.624.624,0,0,0,.646.631C859.411,231.083,859.589,231.079,859.769,231.079Z" transform="translate(-856.054 -213.97)" fill="#fff"/>
                            <path id="Path_11050" data-name="Path 11050" d="M1012.292,486.086c-.667,0-1.335,0-2,0a.478.478,0,0,1-.27-.04c-.091-.072-.2-.2-.2-.293s.127-.215.216-.3c.037-.036.123-.03.187-.03q2.056,0,4.111,0c.071,0,.165-.006.207.033.086.081.2.19.2.29a.469.469,0,0,1-.184.3.463.463,0,0,1-.269.043C1013.626,486.088,1012.959,486.086,1012.292,486.086Z" transform="translate(-1002.907 -473.207)" fill="#fff"/>
                            <path id="Path_11051" data-name="Path 11051" d="M1012.421,544.889c-.681,0-1.363,0-2.045,0a.457.457,0,0,1-.31-.1.389.389,0,0,1-.072-.325.446.446,0,0,1,.258-.214,1.049,1.049,0,0,1,.341-.013h3.81c.065,0,.13,0,.193,0a.316.316,0,0,1,.315.315.312.312,0,0,1-.318.333c-.243.01-.488,0-.732,0Z" transform="translate(-1003.058 -529.371)" fill="#fff"/>
                            <path id="Path_11052" data-name="Path 11052" d="M1011.923,514.866c.674,0,1.349,0,2.023,0a.86.86,0,0,1,.254.029.294.294,0,0,1,.211.334.29.29,0,0,1-.25.282,1.2,1.2,0,0,1-.235.017h-3.96c-.344,0-.5-.106-.505-.33s.162-.333.5-.333Z" transform="translate(-1002.56 -501.331)" fill="#fff"/>
                            <path id="Path_11053" data-name="Path 11053" d="M1012.023,574.467c-.674,0-1.349,0-2.023,0a.852.852,0,0,1-.233-.026.3.3,0,0,1-.225-.325.294.294,0,0,1,.262-.3,1.6,1.6,0,0,1,.236-.014H1014a1.5,1.5,0,0,1,.214.012.294.294,0,0,1,.274.3.3.3,0,0,1-.25.327.9.9,0,0,1-.213.017Z" transform="translate(-1002.635 -557.62)" fill="#fff"/>
                          </g>
                        </g>
                      </svg>                      
                </template>
            </MapboxMarker>
        </MapboxMap>
    </div>
</template>


<script setup>
import { MapboxMap, MapboxMarker } from 'vue-mapbox-ts'
import { ref, computed } from 'vue'

const accessToken = ref('pk.eyJ1IjoibXVmdGFyZGlnaXRhbCIsImEiOiJja2t5bnQxaHYyYjlwMnhxbTM3MGRwdTJwIn0.HeK49l3qG9VGfL76XLTq2w')
const mapStyle = ref('mapbox://styles/muftardigital/ckkyptzj90v3717mtcrji6b55')
const center = ref([-101.29114529694438, 39.92256763648007]);



</script>
